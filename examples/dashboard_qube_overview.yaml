title: Qube Heatpump Overview
sections:
  - type: grid
    cards:
      - type: heading
        heading: System snapshot
        icon: mdi:home-thermometer
      - type: picture-elements
        image: /local/qube_heatpump_dashboard.png
        elements:
          - type: state-label
            entity: sensor.qube_status_heatpump
            style:
              position: absolute
              transform: translate(0,0)
              top: 0px
              left: 0px
              color: "#ffffff"
              font-size: 14px
              font-weight: 600
              text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8)
              background: rgba(44, 82, 130, 0.6)
              border-radius: 8px
              padding: 2px 2px
          - type: state-label
            entity: sensor.qube_temp_outside
            style:
              position: absolute
              transform: translate(0,0)
              top: 50px
              left: 0px
              color: "#ffffff"
              font-size: 9px
              font-weight: 600
              text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8)
              background: rgba(100, 87, 13, 0.45)
              border-radius: 6px
              padding: 1px 2px
            prefix: "Outdoor "
            title: Outdoor temperature
            tap_action:
              action: more-info
          - type: state-label
            entity: sensor.qube_modbus_roomtemp
            style:
              position: absolute
              transform: translate(0,0)
              top: 256px
              right: 0px
              color: "#ffffff"
              font-size: 9px
              font-weight: 600
              text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8)
              background: rgba(0, 0, 0, 0.45)
              border-radius: 6px
            prefix: "Room "
            title: Room temperature
            tap_action:
              action: more-info
          - type: state-label
            entity: sensor.qube_temp_source_in
            style:
              position: absolute
              transform: translate(0,0)
              top: 256px
              left: 0px
              color: "#ffffff"
              font-size: 9px
              font-weight: 600
              text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8)
              background: rgba(0, 0, 0, 0.45)
              border-radius: 6px
            prefix: "Source in "
            title: Source temperature from roof
            tap_action:
              action: more-info
          - type: state-label
            entity: sensor.qube_temp_source_out
            style:
              position: absolute
              transform: translate(0,0)
              top: 256px
              left: 115px
              color: "#ffffff"
              font-size: 9px
              font-weight: 600
              text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8)
              background: rgba(0, 0, 0, 0.45)
              border-radius: 6px
            prefix: "Source out "
            title: Source temperature to roof
            tap_action:
              action: more-info
          - type: state-label
            entity: sensor.qube_temp_supply
            style:
              position: absolute
              transform: translate(0,0)
              top: 120px
              left: 220px
              color: "#ffffff"
              font-size: 9px
              font-weight: 600
              text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8)
              background: rgba(0, 0, 0, 0.45)
              border-radius: 6px
            prefix: "Supply "
            title: Supply temperature
            tap_action:
              action: more-info
          - type: state-label
            entity: sensor.qube_temp_return
            style:
              position: absolute
              transform: translate(0,0)
              top: 150px
              left: 220px
              color: "#ffffff"
              font-size: 9px
              font-weight: 600
              text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8)
              background: rgba(0, 0, 0, 0.45)
              border-radius: 6px
            prefix: "Return "
            title: Return temperature
            tap_action:
              action: more-info
          - type: state-label
            entity: sensor.qube_temp_dhw
            style:
              top: 35%
              left: 70%
              color: "#ffffff"
              font-size: 9px
              font-weight: 600
              text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8)
              background: rgba(0, 0, 0, 0.45)
              border-radius: 6px
            prefix: "DHW "
            title: Domestic hot water temperature
            tap_action:
              action: more-info
  - type: grid
    cards:
      - type: heading
        heading: Controls
        icon: mdi:tune-variant
      - type: tile
        entity: switch.qube_bms_summerwinter
        name: Activate summer mode (cooling)
      - type: tile
        entity: switch.qube_tapw_timeprogram_bms_forced
        name: Activate DHW heating
      - type: tile
        entity: switch.qube_antilegionella_frcstart_ant
        name: Start Anti-legionella
      - type: tile
        entity: switch.qube_en_plantsetp_compens
        name: Enable heating curve
      - type: tile
        entity: select.qube_sg_ready_mode
        name: SG Ready mode
        vertical: false
        features:
          - type: select-options
        features_position: bottom
      - type: tile
        entity: switch.qube_modbus_demand
        name: Activate central heating
  - type: grid
    cards:
      - type: heading
        heading: Demand status
        icon: mdi:chart-line-variant
      - type: tile
        entity: binary_sensor.qube_bms_demand
        name: Heat demand active
      - type: tile
        entity: binary_sensor.qube_surplus_pv
        name: PV surplus active
  - type: grid
    visibility:
      - condition: state
        entity: binary_sensor.qube_alarm_sensors_active
        state: "on"
    cards:
      - type: heading
        heading: Alarm sensors
        icon: mdi:alarm-light
      - type: entity-filter
        show_empty: false
        state_filter:
          - "on"
        card:
          type: entities
        entities:
          - entity: binary_sensor.qube_glbal
            name: "Alarm: Global"
          - entity: binary_sensor.qube_usralrms
            name: "Alarm: Collective alarm CV"
          - entity: binary_sensor.qube_coolingalrms
            name: "Alarm: Collective alarm cooling"
          - entity: binary_sensor.qube_heatingalrms
            name: "Alarm: Collective alarm heating"
          - entity: binary_sensor.qube_srsalrm
            name: "Alarm: Collective alarm source"
          - entity: binary_sensor.qube_alarmmng_al_pwrplus
            name: "Alarm: Collective alarm compressor"
          - entity: binary_sensor.qube_alarmmng_al_workinghour
            name: "Alarm: Working hours"
          - entity: binary_sensor.qube_alrm_flw
            name: "Alarm: Flow CV"
          - entity: binary_sensor.qube_al_maxtime_antileg_active
            name: "Alarm: Max time anti-legionella exceeded"
          - entity: binary_sensor.qube_al_maxtime_dhw_active
            name: "Alarm: Max time DHW exceeded"
          - entity: binary_sensor.qube_al_dewpoint_active
            name: "Alarm: Dewpoint activated"
  - type: grid
    visibility:
      - condition: state
        entity: binary_sensor.qube_alarm_sensors_active
        state: "off"
    cards:
      - type: heading
        heading: Alarm sensors
        icon: mdi:alarm-light
      - type: tile
        entity: binary_sensor.qube_alarm_sensors_active
        name: No active alarms
        icon: mdi:alarm-off
        color: green
        vertical: false
        features_position: bottom
  - type: grid
    cards:
      - type: heading
        heading: Operating hours
        icon: mdi:clock-time-four-outline
      - type: tile
        entity: sensor.qube_workinghours_dhw_hrsret
        name: Working hours DHW
      - type: tile
        entity: sensor.qube_workinghours_heat_hrsret
        name: Working hours heating
      - type: tile
        entity: sensor.qube_workinghours_cool_hrsret
        name: Working hours cooling
      - type: tile
        entity: sensor.qube_workinghours_heater1_hrs
        name: Working hours heater 1
      - type: tile
        entity: sensor.qube_workinghours_heater2_hrs
        name: Working hours heater 2
      - type: tile
        entity: sensor.qube_workinghours_heater3_hrs
        name: Working hours heater 3
  - type: grid
    cards:
      - type: heading
        heading: Temperature & setpoints
        icon: mdi:thermometer
      - type: tile
        entity: sensor.qube_modbus_roomtemp
        name: Room temperature (LinQ)
        vertical: false
        features_position: bottom
      - type: tile
        entity: sensor.qube_temp_outside
        name: Outside temperature
      - type: tile
        entity: sensor.qube_temp_dhw
        name: DHW temperature
      - type: tile
        entity: sensor.qube_temp_supply
        name: Supply temperature CV
      - type: tile
        entity: sensor.qube_temp_return
        name: Return temperature CV
      - type: tile
        entity: sensor.qube_temp_source_in
        name: Source temperature in
      - type: tile
        entity: sensor.qube_temp_source_out
        name: Source temperature out
      - type: tile
        entity: sensor.qube_thermostat_heatsetp_day
        name: LinQ setpoint heating (day)
      - type: tile
        entity: sensor.qube_thermostat_heatsetp_night
        name: LinQ setpoint heating (night)
      - type: tile
        entity: sensor.qube_heatsetp_1
        name: Heating setpoint
      - type: tile
        entity: sensor.qube_coolsetp_1
        name: Cooling setpoint
      - type: tile
        entity: sensor.qube_dhw_setp
        name: DHW calculated setpoint
  - type: grid
    cards:
      - type: heading
        heading: Power & energy
        icon: mdi:lightning-bolt
      - type: tile
        entity: sensor.qube_power_electric
        name: Current electric power
      - type: tile
        entity: sensor.qube_energy_total_electric
        name: Electric consumption total
      - type: tile
        entity: sensor.qube_energy_total_thermic
        name: Thermic yield total
      - type: tile
        entity: sensor.qube_standby_energy
        name: Electric consumption standby
        vertical: false
        features_position: bottom
      - type: tile
        entity: sensor.qube_total_energy_incl_standby
        name: Electric consumption total (incl. standby)
        vertical: false
        features_position: bottom
      - type: tile
        entity: sensor.qube_electric_consumption_ch_day
        name: Electric consumption CH (day)
        vertical: false
        features_position: bottom
      - type: tile
        entity: sensor.qube_electric_consumption_dhw_day
        name: Electric consumption DHW (day)
  - type: grid
    cards:
      - type: heading
        heading: Heat pump performance
        icon: mdi:gauge
      - type: tile
        entity: sensor.qube_compressor_speed
        name: Compressor speed
      - type: tile
        entity: sensor.qube_flow
        name: Flow rate
      - type: tile
        entity: sensor.qube_comppwrreq
        name: Compressor demand
      - type: tile
        entity: sensor.qube_dhw_regreq
        name: DHW demand
      - type: tile
        entity: sensor.qube_tapw_timeprogram_dt_bms
        name: DHW delta T
      - type: tile
        entity: sensor.qube_plantsetp
        name: Plant setpoint
      - type: tile
        entity: sensor.qube_regsetp
        name: Regulation setpoint
      - type: tile
        entity: sensor.qube_power_thermic
        name: Thermal power
      - type: tile
        entity: sensor.qube_modbus_roomtemp
        name: Room temperature (LinQ)
      - type: tile
        entity: sensor.qube_status_heatpump
        name: Heat pump status
        vertical: false
        features_position: bottom
      - type: tile
        entity: sensor.qube_drieweg_status
        name: 3-way valve status
        vertical: false
        features_position: bottom
      - type: tile
        entity: sensor.qube_vierweg_status
        name: 4-way valve status
        vertical: false
        features_position: bottom
  - type: grid
    cards:
      - type: heading
        heading: Binary inputs & states
        icon: mdi:toggle-switch-variant
      - type: tile
        entity: binary_sensor.qube_dout_srcpmp_val
        name: Source pump power supply
      - type: tile
        entity: binary_sensor.qube_dout_usrpmp_val
        name: User pump power supply
      - type: tile
        entity: binary_sensor.qube_dout_bufferpmp_val
        name: Buffer pump output
      - type: tile
        entity: sensor.qube_vierweg_status
        name: 4-way valve status
        vertical: false
        features_position: bottom
      - type: tile
        entity: sensor.qube_drieweg_status
        name: 3-way valve status
        vertical: false
        features_position: bottom
      - type: tile
        entity: binary_sensor.qube_dout_heaterstep1_val
        name: Heater 1 output
      - type: tile
        entity: binary_sensor.qube_dout_heaterstep2_val
        name: Heater 2 output
      - type: tile
        entity: binary_sensor.qube_dout_heaterstep3_val
        name: Heater 3 output
      - type: tile
        entity: binary_sensor.qube_roomprb_en
        name: Room sensor activated
      - type: tile
        entity: binary_sensor.qube_plantdemand
        name: Plant sensor demand
      - type: tile
        entity: binary_sensor.qube_req_antileg_1
        name: Anti-legionella enabled
      - type: tile
        entity: binary_sensor.qube_daynightmode
        name: Day/night mode status
      - type: tile
        entity: binary_sensor.qube_dewpoint
        name: Dewpoint activated
      - type: tile
        entity: binary_sensor.qube_srcflw
        name: Source flow activated
  - type: grid
    cards:
      - type: heading
        heading: Diagnostics & status
        icon: mdi:information
      - type: tile
        entity: sensor.qube_info
        name: Info
        vertical: false
        features_position: bottom
      - type: tile
        entity: sensor.qube_ip_address
        name: IP address
        vertical: false
        features_position: bottom
      - type: tile
        entity: sensor.qube_metric_errors_connect
        name: Connect errors
        vertical: false
        features_position: bottom
      - type: tile
        entity: sensor.qube_metric_errors_read
        name: Read errors
        vertical: false
        features_position: bottom
  - type: grid
    cards:
      - type: heading
        heading: DHW setpoint control
        icon: mdi:water-thermometer
      - type: tile
        entity: number.qube_tapw_timeprogram_dhwsetp_nolinq
        name: DHW temperature setpoint
        vertical: false
        features:
          - type: numeric-input
        features_position: bottom
  - type: grid
    cards:
      - type: heading
        heading: Efficiency (COP/SCOP)
        icon: mdi:gauge
      - type: gauge
        entity: sensor.qube_scop_day
        name: SCOP (day)
        min: 0
        max: 10
        severity:
          red: 0
          yellow: 3
          green: 5
        needle: true
      - type: gauge
        entity: sensor.qube_scop_month
        name: SCOP (month)
        min: 0
        max: 10
        severity:
          red: 0
          yellow: 3
          green: 5
        needle: true
      - type: gauge
        entity: sensor.qube_scop_ch_day
        name: SCOP CH (day)
        min: 0
        max: 10
        severity:
          red: 0
          yellow: 3
          green: 5
        needle: true
      - type: gauge
        entity: sensor.qube_scop_ch_month
        name: SCOP CH (month)
        min: 0
        max: 10
        severity:
          red: 0
          yellow: 3
          green: 5
        needle: true
      - type: gauge
        entity: sensor.qube_scop_dhw_day
        name: SCOP DHW (day)
        min: 0
        max: 10
        severity:
          red: 0
          yellow: 3
          green: 5
        needle: true
      - type: gauge
        entity: sensor.qube_scop_dhw_month
        name: SCOP DHW (month)
        min: 0
        max: 10
        severity:
          red: 0
          yellow: 3
          green: 5
        needle: true
    column_span: 2
cards: []
type: sections
max_columns: 2
