title: Qube Heatpump Overview
sections:
  - type: grid
    cards:
      - type: heading
        heading: System snapshot
        icon: mdi:home-thermometer
      - type: picture-elements
        image: /local/qube_heatpump_dashboard.png
        elements:
          - type: state-label
            entity: sensor.dhw_temp
            style:
              top: 35%
              left: 70%
              color: "#ffffff"
              font-size: 9px
              font-weight: 600
              text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8)
              background: rgba(0, 0, 0, 0.45)
              border-radius: 6px
            prefix: "SWW "
            title: Sanitair warm water
            tap_action:
              action: more-info
          - type: state-label
            entity: sensor.status_warmtepomp
            style:
              top: 8%
              left: 10%
              color: "#ffffff"
              font-size: 14px
              font-weight: 600
              text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8)
              background: rgba(44, 82, 130, 0.6)
              border-radius: 8px
              padding: 2px 2px
          - type: state-label
            entity: sensor.outtemp
            style:
              top: 25%
              left: 5%
              color: "#ffffff"
              font-size: 9px
              font-weight: 600
              text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8)
              background: rgba(100, 87, 13, 0.45)
              border-radius: 6px
              padding: 1px 2px
            prefix: "☀️ "
            title: Buitentemperatuur
            tap_action:
              action: more-info
          - type: state-label
            entity: sensor.modbus_roomtemp
            style:
              top: 93%
              left: 88%
              color: "#ffffff"
              font-size: 9px
              font-weight: 600
              text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8)
              background: rgba(0, 0, 0, 0.45)
              border-radius: 6px
            prefix: "Ruimte "
            title: Ruimte-temperatuur
            tap_action:
              action: more-info
          - type: state-label
            entity: sensor.srcintemp
            style:
              top: 93%
              left: 12%
              color: "#ffffff"
              font-size: 9px
              font-weight: 600
              text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8)
              background: rgba(0, 0, 0, 0.45)
              border-radius: 6px
            prefix: "Temp. vanaf dak "
            title: Temperatuur bron vanaf dak
            tap_action:
              action: more-info
          - type: state-label
            entity: sensor.srcouttemp
            style:
              top: 93%
              left: 37%
              color: "#ffffff"
              font-size: 9px
              font-weight: 600
              text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8)
              background: rgba(0, 0, 0, 0.45)
              border-radius: 6px
            prefix: "Temp. naar dak "
            title: Temperatuur bron naar dak
            tap_action:
              action: more-info
          - type: state-label
            entity: sensor.supplytemp
            style:
              top: 55%
              left: 55%
              color: "#ffffff"
              font-size: 9px
              font-weight: 600
              text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8)
              background: rgba(0, 0, 0, 0.45)
              border-radius: 6px
            prefix: "Aanvoer CV "
            title: Aanvoertemperatuur CV
            tap_action:
              action: more-info
          - type: state-label
            entity: sensor.rettemp
            style:
              top: 68%
              left: 55%
              color: "#ffffff"
              font-size: 9px
              font-weight: 600
              text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8)
              background: rgba(0, 0, 0, 0.45)
              border-radius: 6px
            prefix: "Retour CV "
            title: Retourtemperatuur CV
            tap_action:
              action: more-info
  - type: grid
    cards:
      - type: heading
        heading: Controls
        icon: mdi:tune-variant
      - type: tile
        entity: switch.bms_summerwinter
      - type: tile
        entity: switch.tapw_timeprogram_bms_forced
      - type: tile
        entity: switch.antilegionella_frcstart_ant
      - type: tile
        entity: switch.en_plantsetp_compens
      - type: tile
        entity: switch.bms_sgready_a
      - type: tile
        entity: switch.bms_sgready_b
      - type: tile
        entity: switch.modbus_demand
  - type: grid
    cards:
      - type: heading
        heading: Demand status
        icon: mdi:chart-line-variant
      - type: tile
        entity: binary_sensor.bms_demand
      - type: tile
        entity: binary_sensor.surplus_pv
  - type: grid
    visibility:
      - condition: state
        entity: binary_sensor.qube_alarm_sensors
        state: "on"
    cards:
      - type: heading
        heading: Alarm sensors
        icon: mdi:alarm-light
      - type: entity-filter
        show_empty: false
        state_filter:
          - "on"
        card:
          type: entities
        entities:
          - binary_sensor.glbal
          - binary_sensor.usralrms
          - binary_sensor.coolingalrms
          - binary_sensor.heatingalrms
          - binary_sensor.srsalrm
          - binary_sensor.alarmmng_al_pwrplus
          - binary_sensor.alarmmng_al_workinghour
          - binary_sensor.alrm_flw
          - binary_sensor.al_maxtime_antileg_active
          - binary_sensor.al_maxtime_dhw_active
          - binary_sensor.al_dewpoint_active
  - type: grid
    visibility:
      - condition: state
        entity: binary_sensor.qube_alarm_sensors
        state: "off"
    cards:
      - type: heading
        heading: Alarm sensors
        icon: mdi:alarm-light
      - type: tile
        entity: binary_sensor.qube_alarm_sensors
        name: No active alarms
        icon: mdi:alarm-off
        color: green
  - type: grid
    cards:
      - type: heading
        heading: Operating hours
        icon: mdi:clock-time-four-outline
      - type: tile
        entity: sensor.workinghours_dhw_hrsret
      - type: tile
        entity: sensor.workinghours_heat_hrsret
      - type: tile
        entity: sensor.workinghours_cool_hrsret
      - type: tile
        entity: sensor.workinghours_heater1_hrs
      - type: tile
        entity: sensor.workinghours_heater2_hrs
      - type: tile
        entity: sensor.workinghours_heater3_hrs
  - type: grid
    cards:
      - type: heading
        heading: Temperature & setpoints
        icon: mdi:thermometer
      - type: tile
        entity: sensor.modbus_roomtemp
        vertical: false
        features_position: bottom
      - type: tile
        entity: sensor.outtemp
      - type: tile
        entity: sensor.dhw_temp
      - type: tile
        entity: sensor.supplytemp
      - type: tile
        entity: sensor.rettemp
      - type: tile
        entity: sensor.srcintemp
      - type: tile
        entity: sensor.srcouttemp
      - type: tile
        entity: sensor.thermostat_heatsetp_day
      - type: tile
        entity: sensor.thermostat_heatsetp_night
      - type: tile
        entity: sensor.heatsetp_1
      - type: tile
        entity: sensor.coolsetp_1
      - type: tile
        entity: sensor.dhw_setp
  - type: grid
    cards:
      - type: heading
        heading: Power & energy
        icon: mdi:lightning-bolt
      - type: tile
        entity: sensor.generalmng_eletricpwr
      - type: tile
        entity: sensor.generalmng_acumulatedpwr
      - type: tile
        entity: sensor.generalmng_acumulatedthermic
      - type: tile
        entity: sensor.qube_total_energy_incl_standby
      - type: tile
        entity: sensor.qube_standby_power
      - type: tile
        entity: sensor.qube_standby_energy
      - type: tile
        entity: sensor.elektrisch_verbruik_cv_maand
      - type: tile
        entity: sensor.elektrisch_verbruik_sww_maand
  - type: grid
    cards:
      - type: heading
        heading: Heat pump performance
        icon: mdi:gauge
      - type: tile
        entity: sensor.bldc_evd_powerplus_info_pump
        name: Compressor speed
      - type: tile
        entity: sensor.flow
        name: Gemeten flow
      - type: tile
        entity: sensor.comppwrreq
        name: Compressor demand
      - type: tile
        entity: sensor.dhw_regreq
        name: DHW demand
      - type: tile
        entity: sensor.tapw_timeprogram_dt_bms
        name: Tapwater delta T
      - type: tile
        entity: sensor.plantsetp
        name: Plant setpoint
      - type: tile
        entity: sensor.regsetp
        name: Warmtepomp setpoint
      - type: tile
        entity: sensor.generalmng_thermic_pwr
        name: Thermic power
      - type: tile
        entity: sensor.modbus_roomtemp
        name: Linq room temperature
      - type: tile
        entity: sensor.status_warmtepomp
        name: Status warmtepomp
      - type: tile
        entity: sensor.qube_driewegklep_dhw_cv_status
        name: Driewegklep status
      - type: tile
        entity: sensor.qube_vierwegklep_verwarmen_koelen_status
        name: Vierwegklep status
  - type: grid
    cards:
      - type: heading
        heading: Binary inputs & states
        icon: mdi:toggle-switch-variant
      - type: tile
        entity: binary_sensor.dout_srcpmp_val
      - type: tile
        entity: binary_sensor.dout_usrpmp_val
      - type: tile
        entity: binary_sensor.dout_bufferpmp_val
      - type: tile
        entity: binary_sensor.dout_fourwayvlv_val
      - type: tile
        entity: binary_sensor.dout_threewayvlv_val
      - type: tile
        entity: binary_sensor.dout_heaterstep1_val
      - type: tile
        entity: binary_sensor.dout_heaterstep2_val
      - type: tile
        entity: binary_sensor.dout_heaterstep3_val
      - type: tile
        entity: binary_sensor.roomprb_en
      - type: tile
        entity: binary_sensor.plantdemand
      - type: tile
        entity: binary_sensor.req_antileg_1
      - type: tile
        entity: binary_sensor.daynightmode
      - type: tile
        entity: binary_sensor.dewpoint
      - type: tile
        entity: binary_sensor.srcflw
  - type: grid
    cards:
      - type: heading
        heading: Diagnostics & status
        icon: mdi:information
      - type: tile
        entity: sensor.qube_info
      - type: tile
        entity: sensor.qube_ip_address
      - type: tile
        entity: sensor.qube_metric_errors_connect
      - type: tile
        entity: sensor.qube_metric_errors_read
      - type: tile
        entity: sensor.qube_metric_count_sensors
      - type: tile
        entity: sensor.qube_metric_count_binary_sensors
      - type: tile
        entity: sensor.qube_metric_count_switches
cards: []
type: sections
max_columns: 2
